<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aviation Weather Services - Interactive Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            text-align: center;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #1e3c72;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            color: #666;
            font-size: 1.1rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .tab-button {
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #1e3c72;
            transition: all 0.3s ease;
        }

        .tab-button:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .tab-button.active {
            background: #1e3c72;
            color: white;
        }

        .tab-content {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .grid {
            display: grid;
            gap: 1.5rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        }

        .card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #1e3c72;
        }

        .card h3 {
            color: #1e3c72;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .severity-high { border-left-color: #e74c3c; }
        .severity-medium { border-left-color: #f39c12; }
        .severity-low { border-left-color: #27ae60; }

        .weather-data {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .data-item {
            background: #f8f9fa;
            padding: 0.75rem;
            border-radius: 6px;
            border-left: 3px solid #1e3c72;
        }

        .data-label {
            font-weight: 600;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .data-value {
            font-size: 1.1rem;
            color: #333;
        }

        .raw-data {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin-top: 1rem;
            overflow-x: auto;
        }

        .route-waypoint {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 0.5rem;
        }

        .waypoint-icon {
            font-size: 1.2rem;
        }

        .notam-item {
            margin-bottom: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 6px;
        }

        .notam-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .notam-id {
            font-weight: bold;
            color: #1e3c72;
        }

        .severity-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
        }

        .severity-badge.HIGH { background-color: #e74c3c; }
        .severity-badge.MEDIUM { background-color: #f39c12; }
        .severity-badge.LOW { background-color: #27ae60; }

        .airport-selector {
            margin-bottom: 2rem;
            text-align: center;
        }

        .airport-selector select {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border: 2px solid #1e3c72;
            border-radius: 8px;
            background: white;
            color: #1e3c72;
            cursor: pointer;
        }

        .coordinates {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
        }

        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .header h1 { font-size: 2rem; }
            .grid-2, .grid-3 { grid-template-columns: 1fr; }
            .nav-tabs { justify-content: flex-start; overflow-x: auto; }
            .tab-button { white-space: nowrap; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚úàÔ∏è Aviation Weather Services Demo</h1>
        <p>Comprehensive Weather Briefing System - All Parameters Display</p>
    </div>

    <div class="container">
        <div class="nav-tabs">
            <button class="tab-button active" onclick="showTab('overview')">üìç Overview</button>
            <button class="tab-button" onclick="showTab('metar')">üå§Ô∏è METAR</button>
            <button class="tab-button" onclick="showTab('taf')">üìã TAF</button>
            <button class="tab-button" onclick="showTab('notams')">üì¢ NOTAMs</button>
            <button class="tab-button" onclick="showTab('sigmets')">‚ö†Ô∏è SIGMETs</button>
            <button class="tab-button" onclick="showTab('routes')">‚úàÔ∏è Routes</button>
            <button class="tab-button" onclick="showTab('briefing')">üéØ Briefing</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <h2>üåê System Overview</h2>
            <div class="grid grid-3" id="airports-grid">
                <!-- Airports will be populated by JavaScript -->
            </div>
        </div>

        <!-- METAR Tab -->
        <div id="metar" class="tab-content">
            <h2>üå§Ô∏è METAR Weather Reports</h2>
            <div class="grid grid-2" id="metar-grid">
                <!-- METAR data will be populated by JavaScript -->
            </div>
        </div>

        <!-- TAF Tab -->
        <div id="taf" class="tab-content">
            <h2>üìã Terminal Aerodrome Forecasts</h2>
            <div class="grid grid-2" id="taf-grid">
                <!-- TAF data will be populated by JavaScript -->
            </div>
        </div>

        <!-- NOTAMs Tab -->
        <div id="notams" class="tab-content">
            <h2>üì¢ Notice to Airmen</h2>
            <div class="grid grid-2" id="notams-grid">
                <!-- NOTAMs will be populated by JavaScript -->
            </div>
        </div>

        <!-- SIGMETs Tab -->
        <div id="sigmets" class="tab-content">
            <h2>‚ö†Ô∏è Significant Meteorological Information</h2>
            <div class="grid grid-2" id="sigmets-grid">
                <!-- SIGMETs will be populated by JavaScript -->
            </div>
        </div>

        <!-- Routes Tab -->
        <div id="routes" class="tab-content">
            <h2>‚úàÔ∏è Flight Routes</h2>
            <div class="grid grid-2" id="routes-grid">
                <!-- Routes will be populated by JavaScript -->
            </div>
        </div>

        <!-- Briefing Tab -->
        <div id="briefing" class="tab-content">
            <h2>üéØ Weather Briefing</h2>
            <div class="airport-selector">
                <label for="airport-select">Select Airport: </label>
                <select id="airport-select" onchange="generateBriefing()">
                    <!-- Options will be populated by JavaScript -->
                </select>
            </div>
            <div id="briefing-content">
                <!-- Briefing will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Sample data - in a real app, this would come from your backend
        const sampleData = {
            airports: [
                {
                    icao: 'KJFK',
                    name: 'John F. Kennedy International Airport',
                    city: 'New York',
                    country: 'United States',
                    lat: 40.6413,
                    lon: -73.7781,
                    elevation: 13,
                    timezone: 'America/New_York'
                },
                {
                    icao: 'KSFO',
                    name: 'San Francisco International Airport',
                    city: 'San Francisco',
                    country: 'United States',
                    lat: 37.6213,
                    lon: -122.3790,
                    elevation: 13,
                    timezone: 'America/Los_Angeles'
                },
                {
                    icao: 'KORD',
                    name: 'Chicago O\'Hare International Airport',
                    city: 'Chicago',
                    country: 'United States',
                    lat: 41.9742,
                    lon: -87.9073,
                    elevation: 672,
                    timezone: 'America/Chicago'
                }
            ],
            metar: [
                {
                    icao: 'KJFK',
                    metar: 'KJFK 251651Z 24016G24KT 10SM BKN250 22/13 A3000 RMK AO2 SLP157 T02220128',
                    decoded: {
                        station: 'KJFK',
                        time: '251651Z',
                        wind: { direction: 240, speed: 16, gusts: 24, unit: 'KT' },
                        visibility: { distance: 10, unit: 'SM' },
                        clouds: [{ type: 'BKN', altitude: 25000 }],
                        temperature: 22,
                        dewpoint: 13,
                        altimeter: { value: 30.00, unit: 'inHg' },
                        conditions: 'Partly Cloudy'
                    },
                    severity: 'LOW'
                },
                {
                    icao: 'KSFO',
                    metar: 'KSFO 251651Z 28008KT 10SM FEW200 18/12 A3015 RMK AO2 SLP218 T01780122',
                    decoded: {
                        station: 'KSFO',
                        time: '251651Z',
                        wind: { direction: 280, speed: 8, unit: 'KT' },
                        visibility: { distance: 10, unit: 'SM' },
                        clouds: [{ type: 'FEW', altitude: 20000 }],
                        temperature: 18,
                        dewpoint: 12,
                        altimeter: { value: 30.15, unit: 'inHg' },
                        conditions: 'Clear'
                    },
                    severity: 'LOW'
                },
                {
                    icao: 'KORD',
                    metar: 'KORD 251651Z 09012KT 8SM -RA BKN015 OVC030 15/13 A2995 RMK AO2 RAB25 SLP142',
                    decoded: {
                        station: 'KORD',
                        time: '251651Z',
                        wind: { direction: 90, speed: 12, unit: 'KT' },
                        visibility: { distance: 8, unit: 'SM' },
                        weather: [{ intensity: 'light', phenomenon: 'rain' }],
                        clouds: [
                            { type: 'BKN', altitude: 1500 },
                            { type: 'OVC', altitude: 3000 }
                        ],
                        temperature: 15,
                        dewpoint: 13,
                        altimeter: { value: 29.95, unit: 'inHg' },
                        conditions: 'Light Rain'
                    },
                    severity: 'MEDIUM'
                }
            ],
            taf: [
                {
                    icao: 'KJFK',
                    taf: 'TAF KJFK 251720Z 1818/1924 24015G25KT P6SM BKN200 FM182000 25012KT P6SM SCT250',
                    periods: [
                        {
                            validFrom: '1818',
                            validTo: '1924',
                            wind: { direction: 240, speed: 15, gusts: 25 },
                            visibility: 'P6SM',
                            clouds: [{ type: 'BKN', altitude: 20000 }]
                        }
                    ]
                }
            ],
            notams: [
                {
                    id: 'A1234/23',
                    icao: 'KJFK',
                    text: 'A1234/23 KJFK AD AP RWY 04L/22R CLSD DUE CONST 2309261200-2309262359',
                    category: 'RUNWAY',
                    severity: 'HIGH',
                    subject: 'Runway Closure',
                    effectiveDate: '2023-09-26T12:00:00Z',
                    expiryDate: '2023-09-26T23:59:00Z',
                    description: 'Runway 04L/22R closed due to construction work'
                },
                {
                    id: 'A5678/23',
                    icao: 'KSFO',
                    text: 'A5678/23 KSFO AD AP TWY A BTN TWY B AND TWY C CLSD 2309261800-2309270600',
                    category: 'TAXIWAY',
                    severity: 'MEDIUM',
                    subject: 'Taxiway Closure',
                    effectiveDate: '2023-09-26T18:00:00Z',
                    expiryDate: '2023-09-27T06:00:00Z',
                    description: 'Taxiway A closed between Taxiway B and C'
                }
            ],
            sigmets: [
                {
                    id: 'SIGMET_001',
                    hazard: 'THUNDERSTORM',
                    intensity: 'MODERATE',
                    coordinates: [[-95.0, 35.0], [-90.0, 35.0], [-90.0, 40.0], [-95.0, 40.0]],
                    altitude: { bottom: 10000, top: 45000 },
                    movement: { direction: 'NE', speed: 15 },
                    validFrom: '2023-09-26T12:00:00Z',
                    validTo: '2023-09-26T18:00:00Z',
                    description: 'Moderate thunderstorms moving northeast at 15 knots'
                },
                {
                    id: 'SIGMET_002',
                    hazard: 'TURBULENCE',
                    intensity: 'SEVERE',
                    coordinates: [[-110.0, 38.0], [-105.0, 38.0], [-105.0, 42.0], [-110.0, 42.0]],
                    altitude: { bottom: 25000, top: 40000 },
                    movement: { direction: 'E', speed: 10 },
                    validFrom: '2023-09-26T10:00:00Z',
                    validTo: '2023-09-26T16:00:00Z',
                    description: 'Severe turbulence in mountainous terrain'
                }
            ],
            routes: [
                {
                    id: 'route_1',
                    origin: 'KJFK',
                    destination: 'KSFO',
                    waypoints: [
                        { name: 'KJFK', lat: 40.6413, lon: -73.7781, type: 'departure' },
                        { name: 'AVP', lat: 41.2619, lon: -75.8606, type: 'waypoint' },
                        { name: 'CVG', lat: 39.0539, lon: -84.6621, type: 'waypoint' },
                        { name: 'DEN', lat: 39.8561, lon: -104.6737, type: 'waypoint' },
                        { name: 'KSFO', lat: 37.6213, lon: -122.3790, type: 'arrival' }
                    ],
                    distance: 2586,
                    estimatedTime: '5h 30m',
                    cruiseAltitude: 35000
                }
            ]
        };

        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function populateAirports() {
            const grid = document.getElementById('airports-grid');
            const select = document.getElementById('airport-select');
            
            sampleData.airports.forEach(airport => {
                // Create airport card
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <h3>üìç ${airport.icao}</h3>
                    <h4>${airport.name}</h4>
                    <p><strong>Location:</strong> ${airport.city}, ${airport.country}</p>
                    <div class="coordinates">
                        üß≠ ${airport.lat.toFixed(4)}¬∞N, ${Math.abs(airport.lon).toFixed(4)}¬∞W<br>
                        ‚õ∞Ô∏è Elevation: ${airport.elevation} ft<br>
                        üïê Timezone: ${airport.timezone}
                    </div>
                `;
                grid.appendChild(card);
                
                // Add to select
                const option = document.createElement('option');
                option.value = airport.icao;
                option.textContent = `${airport.icao} - ${airport.name}`;
                select.appendChild(option);
            });
        }

        function populateMETAR() {
            const grid = document.getElementById('metar-grid');
            
            sampleData.metar.forEach(metar => {
                const airport = sampleData.airports.find(a => a.icao === metar.icao);
                const card = document.createElement('div');
                card.className = `card severity-${metar.severity.toLowerCase()}`;
                
                const cloudsHtml = metar.decoded.clouds ? 
                    metar.decoded.clouds.map(cloud => `<div class="data-item"><div class="data-label">Cloud Layer</div><div class="data-value">${cloud.type} at ${cloud.altitude} ft</div></div>`).join('') : '';
                
                const weatherHtml = metar.decoded.weather ? 
                    `<div class="data-item"><div class="data-label">Weather</div><div class="data-value">${metar.decoded.weather.map(w => `${w.intensity} ${w.phenomenon}`).join(', ')}</div></div>` : '';
                
                card.innerHTML = `
                    <h3>üå§Ô∏è ${metar.icao} - ${airport?.name || 'Unknown'}</h3>
                    <div class="weather-data">
                        <div class="data-item">
                            <div class="data-label">Temperature</div>
                            <div class="data-value">${metar.decoded.temperature}¬∞C</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Dewpoint</div>
                            <div class="data-value">${metar.decoded.dewpoint}¬∞C</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Wind</div>
                            <div class="data-value">${metar.decoded.wind.direction}¬∞ at ${metar.decoded.wind.speed} KT${metar.decoded.wind.gusts ? ` G${metar.decoded.wind.gusts}` : ''}</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Visibility</div>
                            <div class="data-value">${metar.decoded.visibility.distance} ${metar.decoded.visibility.unit}</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Altimeter</div>
                            <div class="data-value">${metar.decoded.altimeter.value} ${metar.decoded.altimeter.unit}</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Conditions</div>
                            <div class="data-value">${metar.decoded.conditions}</div>
                        </div>
                        ${weatherHtml}
                        ${cloudsHtml}
                        <div class="data-item">
                            <div class="data-label">Flight Impact</div>
                            <div class="data-value"><span class="severity-badge ${metar.severity}">${metar.severity}</span></div>
                        </div>
                    </div>
                    <div class="raw-data">${metar.metar}</div>
                `;
                grid.appendChild(card);
            });
        }

        function populateTAF() {
            const grid = document.getElementById('taf-grid');
            
            sampleData.taf.forEach(taf => {
                const airport = sampleData.airports.find(a => a.icao === taf.icao);
                const card = document.createElement('div');
                card.className = 'card';
                
                const periodsHtml = taf.periods.map((period, index) => `
                    <div class="data-item">
                        <div class="data-label">Period ${index + 1}</div>
                        <div class="data-value">
                            Valid: ${period.validFrom}Z - ${period.validTo}Z<br>
                            Wind: ${period.wind.direction}¬∞ at ${period.wind.speed} KT${period.wind.gusts ? ` G${period.wind.gusts}` : ''}<br>
                            Visibility: ${period.visibility}<br>
                            Clouds: ${period.clouds.map(c => `${c.type} at ${c.altitude} ft`).join(', ')}
                        </div>
                    </div>
                `).join('');
                
                card.innerHTML = `
                    <h3>üìã ${taf.icao} - ${airport?.name || 'Unknown'}</h3>
                    <div class="weather-data">
                        ${periodsHtml}
                    </div>
                    <div class="raw-data">${taf.taf}</div>
                `;
                grid.appendChild(card);
            });
        }

        function populateNOTAMs() {
            const grid = document.getElementById('notams-grid');
            
            sampleData.notams.forEach(notam => {
                const airport = sampleData.airports.find(a => a.icao === notam.icao);
                const card = document.createElement('div');
                card.className = `card severity-${notam.severity.toLowerCase()}`;
                
                card.innerHTML = `
                    <h3>üì¢ ${notam.icao} - ${airport?.name || 'Unknown'}</h3>
                    <div class="notam-item">
                        <div class="notam-header">
                            <span class="notam-id">${notam.id}</span>
                            <span class="severity-badge ${notam.severity}">${notam.severity}</span>
                        </div>
                        <h4>${notam.subject}</h4>
                        <p><strong>Category:</strong> ${notam.category}</p>
                        <p><strong>Description:</strong> ${notam.description}</p>
                        <p><strong>Effective:</strong> ${new Date(notam.effectiveDate).toLocaleString()}</p>
                        <p><strong>Expires:</strong> ${new Date(notam.expiryDate).toLocaleString()}</p>
                        <div class="raw-data">${notam.text}</div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function populateSIGMETs() {
            const grid = document.getElementById('sigmets-grid');
            
            sampleData.sigmets.forEach(sigmet => {
                const card = document.createElement('div');
                card.className = 'card';
                
                card.innerHTML = `
                    <h3>‚ö†Ô∏è ${sigmet.id}</h3>
                    <div class="weather-data">
                        <div class="data-item">
                            <div class="data-label">Hazard</div>
                            <div class="data-value">${sigmet.hazard}</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Intensity</div>
                            <div class="data-value">${sigmet.intensity}</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Altitude Range</div>
                            <div class="data-value">${sigmet.altitude.bottom} - ${sigmet.altitude.top} ft</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Movement</div>
                            <div class="data-value">${sigmet.movement.direction} at ${sigmet.movement.speed} KT</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Valid From</div>
                            <div class="data-value">${new Date(sigmet.validFrom).toLocaleString()}</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Valid To</div>
                            <div class="data-value">${new Date(sigmet.validTo).toLocaleString()}</div>
                        </div>
                    </div>
                    <p><strong>Description:</strong> ${sigmet.description}</p>
                `;
                grid.appendChild(card);
            });
        }

        function populateRoutes() {
            const grid = document.getElementById('routes-grid');
            
            sampleData.routes.forEach(route => {
                const card = document.createElement('div');
                card.className = 'card';
                
                const waypointsHtml = route.waypoints.map(waypoint => {
                    const icon = waypoint.type === 'departure' ? 'üõ´' : 
                                waypoint.type === 'arrival' ? 'üõ¨' : 'üìç';
                    return `
                        <div class="route-waypoint">
                            <span class="waypoint-icon">${icon}</span>
                            <div>
                                <strong>${waypoint.name}</strong><br>
                                <small>${waypoint.lat.toFixed(4)}¬∞, ${waypoint.lon.toFixed(4)}¬∞</small>
                            </div>
                        </div>
                    `;
                }).join('');
                
                card.innerHTML = `
                    <h3>‚úàÔ∏è ${route.origin} ‚ûú ${route.destination}</h3>
                    <div class="weather-data">
                        <div class="data-item">
                            <div class="data-label">Distance</div>
                            <div class="data-value">${route.distance} NM</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Est. Time</div>
                            <div class="data-value">${route.estimatedTime}</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Cruise Alt</div>
                            <div class="data-value">${route.cruiseAltitude} ft</div>
                        </div>
                    </div>
                    <h4>üó∫Ô∏è Waypoints:</h4>
                    ${waypointsHtml}
                `;
                grid.appendChild(card);
            });
        }

        function generateBriefing() {
            const selectedIcao = document.getElementById('airport-select').value;
            const content = document.getElementById('briefing-content');
            
            if (!selectedIcao) {
                content.innerHTML = '<p>Please select an airport to generate weather briefing.</p>';
                return;
            }
            
            const airport = sampleData.airports.find(a => a.icao === selectedIcao);
            const metar = sampleData.metar.find(m => m.icao === selectedIcao);
            const taf = sampleData.taf.find(t => t.icao === selectedIcao);
            const notams = sampleData.notams.filter(n => n.icao === selectedIcao);
            
            let briefingHtml = `
                <div class="card">
                    <h3>üìç ${airport.name}</h3>
                    <p><strong>ICAO:</strong> ${airport.icao}</p>
                    <p><strong>Location:</strong> ${airport.city}, ${airport.country}</p>
                    <p><strong>Coordinates:</strong> ${airport.lat.toFixed(4)}¬∞N, ${Math.abs(airport.lon).toFixed(4)}¬∞W</p>
                    <p><strong>Elevation:</strong> ${airport.elevation} ft MSL</p>
                </div>
            `;
            
            if (metar) {
                briefingHtml += `
                    <div class="card">
                        <h3>üå§Ô∏è Current Weather (METAR)</h3>
                        <div class="weather-data">
                            <div class="data-item">
                                <div class="data-label">Temperature / Dewpoint</div>
                                <div class="data-value">${metar.decoded.temperature}¬∞C / ${metar.decoded.dewpoint}¬∞C</div>
                            </div>
                            <div class="data-item">
                                <div class="data-label">Wind</div>
                                <div class="data-value">${metar.decoded.wind.direction}¬∞ at ${metar.decoded.wind.speed} KT</div>
                            </div>
                            <div class="data-item">
                                <div class="data-label">Visibility</div>
                                <div class="data-value">${metar.decoded.visibility.distance} ${metar.decoded.visibility.unit}</div>
                            </div>
                            <div class="data-item">
                                <div class="data-label">Flight Impact</div>
                                <div class="data-value"><span class="severity-badge ${metar.severity}">${metar.severity}</span></div>
                            </div>
                        </div>
                        <div class="raw-data">${metar.metar}</div>
                    </div>
                `;
            }
            
            if (taf) {
                briefingHtml += `
                    <div class="card">
                        <h3>üìã Forecast (TAF)</h3>
                        <div class="raw-data">${taf.taf}</div>
                    </div>
                `;
            }
            
            if (notams.length > 0) {
                briefingHtml += `<div class="card"><h3>üì¢ Active NOTAMs</h3>`;
                notams.forEach(notam => {
                    briefingHtml += `
                        <div class="notam-item">
                            <div class="notam-header">
                                <span class="notam-id">${notam.id}</span>
                                <span class="severity-badge ${notam.severity}">${notam.severity}</span>
                            </div>
                            <p><strong>${notam.subject}:</strong> ${notam.description}</p>
                            <p><small>Valid: ${new Date(notam.effectiveDate).toLocaleString()} - ${new Date(notam.expiryDate).toLocaleString()}</small></p>
                        </div>
                    `;
                });
                briefingHtml += `</div>`;
            }
            
            content.innerHTML = briefingHtml;
        }

        // Initialize the demo
        document.addEventListener('DOMContentLoaded', function() {
            populateAirports();
            populateMETAR();
            populateTAF();
            populateNOTAMs();
            populateSIGMETs();
            populateRoutes();
        });
    </script>
</body>
</html>